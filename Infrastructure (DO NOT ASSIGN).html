<html>   
   <head>
      <title>Local Estimate of Damage to Public Property By Category</title>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <link href="https://olympus.soc.texas.gov/files/CDN/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
      <link href="https://olympus.soc.texas.gov/services/DSO/Scripts/bootstrap-dialog.min.css" rel="stylesheet"/>
      <script type="text/javascript" src="https://olympus.soc.texas.gov/files/CDN/bootstrap/js/jquery.js"/>
      <script type="text/javascript" src="https://olympus.soc.texas.gov/files/CDN/bootstrap/js/bootstrap.min.js"/>
      <script type="text/javascript" src="https://olympus.soc.texas.gov/files/CDN/etn/etn.js"/>
      <script type="text/javascript" src="../boards/board_lib.js"/>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"/>
      <script type="text/javascript">


//window.onload=start;

</script>
   <style type="text/css">
  body{background-color:#d1d2d4;color:#000;font:normal 0.9em arial;margin:1.0em;}
  div.container{border:solid 1px #0069aa; width:100%;}
  div.content{margin:1em; width:99%;}
  table.heading{border:solid 1px;border-collapse:collapse;empty-cells:show;margin:0;padding:3px;width:100%;}      table.heading td, table.heading th{padding:0.1em 0.5em 0.1em 0.5em;}
  table.heading th{text-align:center;}
  #tdFilter{text-align:right;}
  #tdBoard{text-align:center;}
  table.display{border-collapse:collapse;border:solid 1px;width:100%;border-color:#808080;background-color:#fff;empty-cells:show;margin-bottom:0.2em;}
  table.display td, table.display th{border-right:solid 1px;padding:0.1em 0.3em 0.1em 0.3em;}
  table.display td{border-top:solid 1px;border-color:#ccc;}
  .rowYellow {background-color:#F5FF79;}
  .rowBlue {background-color:#ccebff;}
  .rowRed {background-color:#FF1100;}
  .rowGray {background-color: #b7bfc8;}
.rowReg {}
.rowGreen{background-color:#00ff55;}
.textYellow {color:#ffff99;}
</style>
   </head>   
   <body>
      <div class="container agencytemplate_boardbackground">
         <table class="table heading agencytemplate_boardheader">
            <tbody>
               <tr>
                  <td id="tdIncident">
                     <span id="incidentNameSpan">
                        <incidentname/>
                     </span>
                     </td>
                  <td id="tdFilter">
                     <filter/>
                  </td>
               </tr>
               <tr>
                  <td id="tdBoard" colSpan="2" selected="false">Local Estimate of Damage to Public Property By Category<br /><h4>This page shows only DSOs (Infrastructure / PA)<br/><br/>The RED (total) row indicates that the Housing/Infrastructure PDAs have been completed and that the numbers have been vetted between IA and PA with FEMA</h4></td>
               </tr>
            </tbody>
         </table>
         <div class="content">
             <viewlink class="btn btn-info" type="button" name="DSO List (DO NOT ASSIGN)">View DSO List</viewlink><space/><space/>
            <viewlink class="btn btn-info" type="button" name="!Summary(DEFAULT)">View Recovery Summary</viewlink><space/><space/>
            <!--<viewlink class="btn active" type="button" name="Infrastructure (DO NOT ASSIGN)">View Infrastructure / PA</viewlink>-->
            <button type="button" class="btn active">View Infrastructure / PA</button><space/><space/>
            <viewlink class="btn btn-info" type="button" name="Housing (DO NOT ASSIGN)">View Housing / IA</viewlink><space/><space/><space/><space/><space/><space/>
            <!--<viewlink class="btn btn-success" type="button" name="Bubble Input (DO NOT ASSIGN)">+ New Bubble Input</viewlink><space/><space/>
            <viewlink class="btn btn-success" type="button" name="Input (DO NOT ASSIGN)">+ New DSO for Testing</viewlink>-->
            <br/>
            <br/>
            <div class="form-inline" id="resourceFilters" style="display: inline-block;">
               <filterlistdropdown field="county" list="Counties - Texas" defaulttext="All Counties" class="form-control"/>
               
               <space /><space /><space /><space/><space/><space/>
               
               <div class="form-inline" id="resourceFilters" style="display: inline-block;">
                  <label for="webeocIncident" class="">
                     <h4>
                        <sub>Incidents:</sub>
                     </h4>
                  </label>
                  <space/>
                  <select name="webeocIncident" id="webeocIncident" class="form-control" onchange="filterByIncident.incidentListActionOnChange();"/></div>
               <space/><space/><space/><space/><space/><space/>
               <span id="searchDIV">
                  <search exact="false" range="false" rangetext="false">
                     <field name="county"/>
                     <field name="city"/>
                  </search>
                  <clearsearchbutton/>
                  <span style="display: none;" id="incidentNameSearchSPAN">
                     <search field="webeocIncident" clearsearch="true"/>
                  </span>
               </span>
            </div>
            <div/><br/>
            <table id="mainTable" class="table display">
               <tbody>
                  <tr class="agencytemplate_tableheader">
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Total Jurisdictions</td>
                     <td selected="false" colSpan="1" width="" rowSpan="2" align="center"><br/>County / City
                        <br/>(Click to Edit DSO)
                     </td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">A</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">B</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">C</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">D</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">E</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">F</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" style="font-weight: bold;" align="center">G</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center"> </td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center"> </td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center"> </td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center"> </td>
                     <td selected="false" colSpan="1" width="" rowSpan="2" align="center">DSO Audit Log</td>

                  </tr>
                  <tr class="agencytemplate_tableheader">
                     <td selected="false" align="center" top-align="center" style="font-weight: normal; font-size: 14pt; background-color:#BDFFFF; color:black" rowSpan="1">(<expression useboardlevelfilters="true" name="totalJurisictionsexpressionInfra2">sum(case when repairCostTotals!='' and repairCostTotals!='0' and repairCostTotals!='0.00' and repairCostTotals!='0.0000' then 1 else 0 end)</expression>)</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Debris Removal</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Police / EMS</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Roads &amp; Bridges</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Water Facilites</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Buildings</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Public Utility Systems</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Other</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Area / <span class="textYellow">County</span> Totals</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">County Threshold</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Met?</td>
                     <td selected="false" colSpan="1" width="" rowSpan="1" align="center">Local Dec</td>
                  </tr>
               </tbody>
            </table>
            <eocrepeatallrecords rowcount="0" sort=" cast(sortCountyOrder as int) asc, cast(sortCityOrder as int) asc">
               <if test="1=0">
                  <eocfield name="sortCountyOrder"/>
                  <eocfield name="sortCityOrder"/>
                  <eocfield name="jurisdictionType"/>
                  <eocfield name="county"/>
                  <eocfield name="city"/>
                  <eocfield name="repairCostDebrisClearance"/>
                  <eocfield name="repairCostEmergency"/>
                  <eocfield name="repairCostRoadPaved"/>
                  <eocfield name="repairCostWaterControlFacilities"/>
                  <eocfield name="repairCostBuildingsEquipment"/>
                  <eocfield name="repairCostUtilitySystems"/>
                  <eocfield name="repairCostOther"/>
                  <eocfield name="repairCostTotals"/>
                  <eocfield name="cat01"/>
                  <eocfield name="cat02"/>
                  <eocfield name="cat03"/>
                  <eocfield name="cat04"/>
                  <eocfield name="cat05"/>
                  <eocfield name="cat06"/>
                  <eocfield name="cat07"/>
                  <eocfield name="cat08"/>
                  <eocfield name="cat09"/>
                  <eocfield name="cat10"/>
                  <eocfield name="cat11"/>
                  <eocfield name="cat12"/>
                  <eocfield name="cat13"/>
                  <eocfield name="cat14"/>
                  <eocfield name="cat15"/>
                  <eocfield name="repairCost01"/>
                  <eocfield name="repairCost02"/>
                  <eocfield name="repairCost03"/>
                  <eocfield name="repairCost04"/>
                  <eocfield name="repairCost05"/>
                  <eocfield name="repairCost06"/>
                  <eocfield name="repairCost07"/>
                  <eocfield name="repairCost08"/>
                  <eocfield name="repairCost09"/>
                  <eocfield name="repairCost10"/>
                  <eocfield name="repairCost11"/>
                  <eocfield name="repairCost12"/>
                  <eocfield name="repairCost13"/>
                  <eocfield name="repairCost14"/>
                  <eocfield name="repairCost15"/>
                  <eocfield name="declarationIssued"/>
               </if>
               <span style="display:none" class="data" name="data">
                  <value-of select="@sortCountyOrder"/>|
          
                  <value-of select="@sortCityOrder"/>|
                  (<expression useboardlevelfilters="true" name="totalJurisictionsexpressionInfra1">(case when repairCostTotals!='' and repairCostTotals!='0' and repairCostTotals!='0.00' and repairCostTotals!='0.0000' then 1 else 0 end)</expression>)|
                  <value-of select="@jurisdictionType"/>|
                  <viewlink name="Input (DO NOT ASSIGN)"><if test="@jurisdictionType='County'"><b><value-of select="@county"/></b> / <value-of select="@city"/></if><if test="@jurisdictionType='City'"><value-of select="@county"/> / <b><value-of select="@city"/></b></if></viewlink><space/>|<value-of select="@county"/>|<value-of select="@city"/>|<expression useboardlevelfilters="true" name="catASum">
      (case when cat01 = 'A' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'A' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'A' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'A' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'A' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'A' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'A' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'A' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'A' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'A' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'A' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'A' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'A' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'A' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'A' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostDebrisClearance as money)
      </expression>|<expression useboardlevelfilters="true" name="catBSum">
      (case when cat01 = 'B' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'B' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'B' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'B' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'B' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'B' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'B' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'B' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'B' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'B' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'B' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'B' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'B' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'B' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'B' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostEmergency as money)
      </expression>|<expression useboardlevelfilters="true" name="catCSum">
      (case when cat01 = 'C' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'C' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'C' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'C' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'C' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'C' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'C' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'C' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'C' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'C' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'C' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'C' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'C' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'C' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'C' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostRoadPaved as money)
      </expression>|<expression useboardlevelfilters="true" name="catDSum">
      (case when cat01 = 'D' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'D' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'D' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'D' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'D' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'D' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'D' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'D' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'D' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'D' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'D' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'D' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'D' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'D' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'D' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostWaterControlFacilities as money)
      </expression>|<expression useboardlevelfilters="true" name="catESum">
      (case when cat01 = 'E' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'E' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'E' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'E' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'E' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'E' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'E' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'E' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'E' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'E' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'E' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'E' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'E' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'E' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'E' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostBuildingsEquipment as money)
      </expression>|<expression useboardlevelfilters="true" name="catFSum">
      (case when cat01 = 'F' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'F' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'F' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'F' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'F' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'F' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'F' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'F' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'F' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'F' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'F' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'F' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'F' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'F' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'F' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostUtilitySystems as money)
      </expression>|<expression useboardlevelfilters="true" name="catGSum">
      (case when cat01 = 'G' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'G' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'G' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'G' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'G' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'G' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'G' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'G' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'G' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'G' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'G' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'G' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'G' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'G' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'G' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostOther as money)
      </expression>|<expression useboardlevelfilters="true" name="catSumTotal">
     (case when cat01 = 'A' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'A' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'A' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'A' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'A' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'A' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'A' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'A' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'A' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'A' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'A' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'A' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'A' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'A' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'A' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostDebrisClearance as money)+
      (case when cat01 = 'B' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'B' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'B' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'B' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'B' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'B' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'B' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'B' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'B' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'B' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'B' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'B' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'B' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'B' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'B' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostEmergency as money)+
       (case when cat01 = 'C' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'C' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'C' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'C' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'C' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'C' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'C' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'C' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'C' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'C' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'C' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'C' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'C' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'C' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'C' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostRoadPaved as money)+
      (case when cat01 = 'D' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'D' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'D' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'D' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'D' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'D' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'D' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'D' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'D' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'D' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'D' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'D' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'D' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'D' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'D' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostWaterControlFacilities as money)+
      (case when cat01 = 'E' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'E' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'E' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'E' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'E' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'E' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'E' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'E' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'E' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'E' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'E' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'E' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'E' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'E' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'E' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostBuildingsEquipment as money)+
      (case when cat01 = 'F' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'F' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'F' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'F' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'F' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'F' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'F' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'F' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'F' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'F' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'F' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'F' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'F' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'F' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'F' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostUtilitySystems as money)+
      (case when cat01 = 'G' then isNull(cast(repairCost01 as money),0) else 0 end)+
      (case when cat02 = 'G' then isNull(cast(repairCost02 as money),0) else 0 end)+
      (case when cat03 = 'G' then isNull(cast(repairCost03 as money),0) else 0 end)+
      (case when cat04 = 'G' then isNull(cast(repairCost04 as money),0) else 0 end)+
      (case when cat05 = 'G' then isNull(cast(repairCost05 as money),0) else 0 end)+
      (case when cat06 = 'G' then isNull(cast(repairCost06 as money),0) else 0 end)+
      (case when cat07 = 'G' then isNull(cast(repairCost07 as money),0) else 0 end)+
      (case when cat08 = 'G' then isNull(cast(repairCost08 as money),0) else 0 end)+
      (case when cat09 = 'G' then isNull(cast(repairCost09 as money),0) else 0 end)+
      (case when cat10 = 'G' then isNull(cast(repairCost10 as money),0) else 0 end)+
      (case when cat11 = 'G' then isNull(cast(repairCost11 as money),0) else 0 end)+
      (case when cat12 = 'G' then isNull(cast(repairCost12 as money),0) else 0 end)+
      (case when cat13 = 'G' then isNull(cast(repairCost13 as money),0) else 0 end)+
      (case when cat14 = 'G' then isNull(cast(repairCost14 as money),0) else 0 end)+
      (case when cat15 = 'G' then isNull(cast(repairCost15 as money),0) else 0 end)+
      cast(repairCostOther as money)
      </expression>|
      <if test="@declarationIssued='Yes'"><div class="greenCell"><value-of select="@declarationIssued"/></div></if><if test="@declarationIssued='No'"><div style=""><value-of select="@declarationIssued"/></div></if>|NomNom16|<viewlink name="DSO Audit RelatedList (DO NOT ASSIGN)"><button class="btn btn-warning btn-xs">DSO History</button></viewlink>|18|<relatedexpression name="femaTest2" table="Supplemental">sum(case when femaCheckbox='Yes' then 1 else 0 end)</relatedexpression>|END20|</span>
            </eocrepeatallrecords>
         </div>
      </div>
      <!--<embedview style="display:none" view="Bubble Letter Embed"/>-->
   </body>   
   <script type="text/javascript">
   //this newRow adds places in the array to the table rows as they add for a regular row -- td's need to added as needed
   var newRow = function(table,position,data,rowClass){
   var row = table.insertRow(position);
   var align='left';
    if(trim(data[3])==="City"){
align='right'
  }
  var metClass="NoClass";
  if(comma(data[16])==='Yes'){
   metClass="rowGreen";
  }
  //row.className('agencytemplate_tableentry');
    row.innerHTML = '<td>'+data[2]+'</td>'+'<td align="'+align+'">'+data[4]+'</td>'+'<td>'+comma(data[7])+'</td>'+'<td>'+comma(data[8])+'</td>'+'<td>'+comma(data[9])+'</td>'+'<td>'+comma(data[10])+'</td>'+'<td>'+comma(data[11])+'</td>'+'<td>'+comma(data[12])+'</td>'+'<td>'+comma(data[13])+'</td>'+'<td>'+comma(data[14])+'</td>'+'<td>'+comma(data[15])+'</td>'+'<td class="'+metClass+'">'+comma(data[16])+'</td>'+'<td>'+comma(data[17])+'</td>'+'<td>'+comma(data[18])+'</td>'/*+'<td>'+comma(data[19])+'</td>'*/;//view femaCheck total cell[19]
    var rowColorClass =''
    if (((position/2) - Math.floor(position/2)) === 0) {rowColorClass='agencytemplate_tableroweven'} else {rowColorClass='agencytemplate_tablerowodd'};

    table.rows[position].className='agencytemplate_tableentry '+rowClass;
    //agencytemplate_tableroweven
}
 //threshold totals and limits
function threshold(c){
var a = [["Anderson","208110.48"],["Andrews","52638.16"],["Angelina","308904.76"],["Aransas","82442.48"],["Archer","32232.24"],["Armstrong","6767.56"],["Atascosa","159883.16"],["Austin","101164.52"],["Bailey","25507.4"],["Bandera","72926.6"],["Bastrop","264048.76"],["Baylor","13264.56"],["Bee","113425.16"],["Bell","1104436.6"],["Bexar","6104591.88"],["Blanco","37369.32"],["Borden","2281.96"],["Bosque","64834.72"],["Bowie","329531.4"],["Brazoria","1114870.96"],["Brazos","693669.56"],["Brewster","32865.92"],["Briscoe","5827.72"],["Brooks","25713.88"],["Brown","135657.36"],["Burleson","61185.72"],["Burnet","152190"],["Caldwell","135514.96"],["Calhoun","76116.36"],["Callahan","48216.64"],["Cameron","1446143.2"],["Camp","44147.56"],["Carson","22007.92"],["Cass","108451.84"],["Castro","28700.72"],["Chambers","124941.76"],["Cherokee","181008.2"],["Childress","25065.96"],["Clay","38277.12"],["Cochran","11132.12"],["Coke","11819.2"],["Coleman","31666.2"],["Collin","2785133.96"],["Collingsworth","10882.92"],["Colorado","74311.44"],["Comal","386160.32"],["Comanche","49747.44"],["Concho","14549.72"],["Cooke","136835.72"],["Coryell","268381.28"],["Cottle","5357.8"],["Crane","15575"],["Crockett","13239.64"],["Crosby","21570.04"],["Culberson","8536.88"],["Dallam","23862.68"],["Dallas","8430574.84"],["Dawson","49245.48"],["Deaf Smith","68964.32"],["Delta","18622.36"],["Denton","2358905.84"],["DeWitt","71545.32"],["Dickens","8700.64"],["Dimmit","35585.76"],["Donley","13090.12"],["Duval","41943.92"],["Eastland","66155.48"],["Ector","488182.8"],["Edwards","7127.12"],["El Paso","2850303.32"],["Ellis","532611.6"],["Erath","134888.4"],["Falls","63602.96"],["Fannin","120737.4"],["Fayette","87412.24"],["Fisher","14147.44"],["Floyd","22947.76"],["Foard","4756.16"],["Fort Bend","2083935"],["Franklin","37753.8"],["Freestone","70544.96"],["Frio","61292.52"],["Gaines","62392.56"],["Galveston","1037060.04"],["Garza","23001.16"],["Gillespie","88419.72"],["Glasscock","4364.56"],["Goliad","25667.6"],["Gonzales","70512.92"],["Gray","80224.6"],["Grayson","430322.12"],["Gregg","433358.8"],["Grimes","94710.24"],["Guadalupe","468257.48"],["Hale","129131.88"],["Hall","11936.68"],["Hamilton","30320.52"],["Hansford","19982.28"],["Hardeman","14734.84"],["Hardin","194500.6"],["Harris","14569154.04"],["Harrison","233646.36"],["Hartley","21580.72"],["Haskell","21000.44"],["Hays","559300.92"],["Hemphill","13552.92"],["Henderson","279573.92"],["Hidalgo","2758177.64"],["Hill","124916.84"],["Hockley","81648.6"],["Hood","182207.92"],["Hopkins","125173.16"],["Houston","84485.92"],["Howard","124642.72"],["Hudspeth","12374.56"],["Hunt","306619.24"],["Hutchinson","78854"],["Irion","5692.44"],["Jack","32196.64"],["Jackson","50107"],["Jasper","127127.6"],["Jeff Davis","8337.52"],["Jefferson","898091.88"],["Jim Hogg","18868"],["Jim Wells","145383.28"],["Johnson","537325.04"],["Jones","71919.12"],["Karnes","52773.44"],["Kaufman","367926"],["Kendall","118939.6"],["Kenedy","1480.96"],["Kent","2876.48"],["Kerr","176665"],["Kimble","16400.92"],["King","1018.16"],["Kinney","12808.88"],["Kleberg","114137.16"],["Knox","13239.64"],["La Salle","24514.16"],["Lamar","177263.08"],["Lamb","49758.12"],["Lampasas","70050.12"],["Lavaca","68576.28"],["Lee","59138.72"],["Leon","59811.56"],["Liberty","269289.08"],["Limestone","83247.04"],["Lipscomb","11755.12"],["Live Oak","41050.36"],["Llano","68711.56"],["Loving","291.92"],["Lubbock","992638.36"],["Lynn","21057.4"],["Madison","48643.84"],["Marion","37543.76"],["Martin","17084.44"],["Mason","14282.72"],["Matagorda","130659.12"],["Maverick","193158.48"],["McCulloch","29487.48"],["McLennan","836265.36"],["McMullen","2516.92"],["Medina","163781.36"],["Menard","7981.52"],["Midland","487264.32"],["Milam","88134.92"],["Mills","17572.16"],["Mitchell","33474.68"],["Montague","70199.64"],["Montgomery","1622455.76"],["Moore","77978.24"],["Morris","46045.04"],["Motley","4307.6"],["Nacogdoches","229705.44"],["Navarro","169936.6"],["Newton","51424.2"],["Nolan","54168.96"],["Nueces","1211193.88"],["Ochiltree","36393.88"],["Oldham","7305.12"],["Orange","291339.72"],["Palo Pinto","100075.16"],["Panola","84713.76"],["Parker","416260.12"],["Parmer","36557.64"],["Pecos","55204.92"],["Polk","161670.28"],["Potter","431019.88"],["Presidio","27832.08"],["Rains","38853.84"],["Randall","429781"],["Reagan","11986.52"],["Real","11780.04"],["Red River","45781.6"],["Reeves","49067.48"],["Refugio","26283.48"],["Roberts","3307.24"],["Robertson","59174.32"],["Rockwall","278879.72"],["Runnels","37383.56"],["Rusk","189854.8"],["Sabine","38569.04"],["San Augustine","31559.4"],["San Jacinto","93927.04"],["San Patricio","230702.24"],["San Saba","21826.36"],["Schleicher","12321.16"],["Scurry","60238.76"],["Shackelford","12025.68"],["Shelby","90594.88"],["Sherman","10801.04"],["Smith","746581.84"],["Somervell","30224.4"],["Starr","217046.08"],["Stephens","34282.8"],["Sterling","4069.08"],["Stonewall","5304.4"],["Sutton","14695.68"],["Swisher","27960.24"],["Tarrant","6440161.04"],["Taylor","468161.36"],["Terrell","3503.04"],["Terry","45037.56"],["Throckmorton","5841.96"],["Titus","115109.04"],["Tom Green","392397.44"],["Travis","3646386.96"],["Trinity","51922.6"],["Tyler","77486.96"],["Upshur","139940.04"],["Upton","11943.8"],["Uvalde","94001.8"],["Val Verde","174009.24"],["Van Zandt","187181.24"],["Victoria","308983.08"],["Walker","241585.16"],["Waller","153809.8"],["Ward","37942.48"],["Washington","120036.08"],["Webb","891082.24"],["Wharton","146956.8"],["Wheeler","19259.6"],["Wichita","468140"],["Wilbarger","48184.6"],["Willacy","78797.04"],["Williamson","1504737.24"],["Wilson","152788.08"],["Winkler","25311.6"],["Wise","210492.12"],["Wood","149391.84"],["Yoakum","28049.24"],["Young","66038"],["Zapata","49904.08"],["Zavala","41570.12"]];
for(var i = 0; i&lt;a.length;i++){
  if(c==a[i][0]){
    return a[i][1];
  }
}
return "";
}
threshold.TotalOnPage=0;

var masterData =[];

//function start(){
//  populateMasterData();
  //popluateTable();
  //these two functions run on onstart in IA file
 // populateMasterData();
 // popluateTable();

//
/*var totalGrandRowVar=function(i){
   var a = getTotalsFor(masterData[i][5]);
   var b = a[10]===true?"rowRed":"rowYellow";
   
   //is the totals of 9 (the totals of that counties femaCheckboxes) greater than 0, if so turn row red, if not turn yellow
      var thresholdResult = threshold(masterData[i][5]);
      var a = getTotalsFor(masterData[i][5]);
      threshold.TotalOnPage+=parseInt(thresholdResult);
      var Mets = parseFloat(a[8]) &gt;= parseFloat(thresholdResult)?'Yes':'No';
      //yellow or red total rows
      
};*/
//populates the data, holding area before the table
function populateMasterData(){
var a = document.getElementsByClassName('data');
  for(var i =0; i&lt;a.length;i++){
    var b =[];
    var c = a[i].innerHTML.split('|');
    for(var k=0; k&lt;c.length;k++){
      b.push(c[k]);
    }
    masterData.push(b);
  }
}

function comma(x) {
if(isNaN(x)===true || x=="" || x==0){
  x==undefined?x='':x=x;
  return x;
}
x=parseFloat(x).toFixed(2);
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
//return x;
}
//very useful and needed in many webeoc files as most browsers do this, webeoc does not and excess spaces will change return and cause to fail
function trim(a) {
  return a.replace(/^\s+|\s+$|\&amp;nbsp;+$/g, '');
}
//this populates the table - t is main table itself, b is for the total row turning yellow or red based on femaCheck choice
function popluateTable(){
var t = document.getElementById('mainTable');
/*var a = getTotalsForAll();

      newRow(t,t.rows.length,["","","","","Grand Totals","",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]],"rowGray")*/

//  var firstGrandTotal = getTotalsForAll1();
  //alert('grand totals1');
    //  newRow(t,t.rows.length,["","","","","Grand Totals","",firstGrandTotal[0],firstGrandTotal[1],firstGrandTotal[2],firstGrandTotal[3],firstGrandTotal[4],firstGrandTotal[5],firstGrandTotal[6],firstGrandTotal[7],firstGrandTotal[8],firstGrandTotal[9]],"rowGray");
      //console.log(firstGrandTotal);
    //  function getTotalsForAll1(){
 // var firstGrandTotal =[0,0,0,0,0,0,0,0,0,0];
/*  var isNull = function(b){
    if(b==''||b==' ' ||b==0){return 0;}
    else return b;
  };
for(var i=0; i&lt;masterData.length;i++){
    //a[0]+=parseFloat(isNull(masterData[i][6]));
    firstGrandTotal[1]+=parseFloat(isNull(masterData[i][7]));
    firstGrandTotal[2]+=parseFloat(isNull(masterData[i][8]));
    firstGrandTotal[3]+=parseFloat(isNull(masterData[i][9]));
    firstGrandTotal[4]+=parseFloat(isNull(masterData[i][10]));
    firstGrandTotal[5]+=parseFloat(isNull(masterData[i][11]));
    firstGrandTotal[6]+=parseFloat(isNull(masterData[i][12]));
    firstGrandTotal[7]+=parseFloat(isNull(masterData[i][13]));
    firstGrandTotal[8]+=parseFloat(isNull(masterData[i][14]));
   
}
 firstGrandTotal[9]=parseFloat(threshold.TotalOnPage);
console.log(firstGrandTotal);
return firstGrandTotal;

}*/

var totalRowVar=function(i){
   var a = getTotalsFor(masterData[i][5]);
   var b = a[10]===true?"rowRed":"rowYellow";
   
   //is the totals of 9 (the totals of that counties femaCheckboxes) greater than 0, if so turn row red, if not turn yellow
      var thresholdResult = threshold(masterData[i][5]);
      var a = getTotalsFor(masterData[i][5]);
      threshold.TotalOnPage+=parseInt(thresholdResult);
      var Mets = parseFloat(a[8]) &gt;= parseFloat(thresholdResult)?'Yes':'No';
      //yellow or red total rows
      newRow(t,t.rows.length,["","","","","Totals for "+masterData[i][5],"",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],thresholdResult,Mets,a[15],"",a[19]],b);//[19] is hidden and contains the femaCheck totals for the county
};
  for(var i=0; i &lt; masterData.length;i++){
    //adds regular row
    newRow(t,(t.rows.length),["","",masterData[i][2],masterData[i][3],masterData[i][4],masterData[i][5],masterData[i][6],masterData[i][7],masterData[i][8],masterData[i][9],masterData[i][10],masterData[i][11],masterData[i][12],masterData[i][13],masterData[i][14],"","",masterData[i][15],masterData[i][17],masterData[i][19]],masterData[i][17]=='No DSO'?"rowBlue":"rowReg");
    if(i==masterData.length-1){//if not the last row
 totalRowVar(i);
 console.log("reg");
    }
    else if(i==0 &amp;&amp; masterData[i][5]!=masterData[i+1][5]){
       totalRowVar(i);
    }
//else if (( (there is an entry) and 
//((county equals county before) and (county after does not equal county) or 
//(county does not equal county before) and 
//(county after does not equal coounty)) ))
    else if((i!=0)&amp;&amp;(((masterData[i][5]===masterData[i-1][5])&amp;&amp;(masterData[i+1][5]!=masterData[i][5]))||((masterData[i][5]!=masterData[i-1][5])&amp;&amp;(masterData[i+1][5]!=masterData[i][5])) ))
      {
      totalRowVar(i);
      console.log("else if");
    }
  }
  //grand totals row and class of rowGray
  var a = getTotalsForAll();
      newRow(t,t.rows.length,["","","","","Grand Totals","",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]],"rowGray")
      newRow(t,2,["","","","","Grand Totals","",a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]],"rowGray")
}

//this will get totals for the county totals row, for more spots, O's nned to added to var a as well as the parseFloat statements below
function getTotalsFor(c){
  var a =[0,0,0,0,0,0,0,0,0,0,true];
  var isNull = function(b){
    if(b==''||b==' ' ||b==0){return 0;}
    else return b;
  };
for(var i=0; i&lt;masterData.length;i++){
  if(masterData[i][5]==c){
//parseFloat cuts off the first character if a number, otherwise NaN is returned ------------ the [19] spot is where the total is stored from femaCheckboxes
    //a[0]+=parseFloat(isNull(masterData[i][6]));
    a[1]+=parseFloat(isNull(masterData[i][7]));
    a[2]+=parseFloat(isNull(masterData[i][8]));
    a[3]+=parseFloat(isNull(masterData[i][9]));
    a[4]+=parseFloat(isNull(masterData[i][10]));
    a[5]+=parseFloat(isNull(masterData[i][11]));
    a[6]+=parseFloat(isNull(masterData[i][12]));
    a[7]+=parseFloat(isNull(masterData[i][13]));
    a[8]+=parseFloat(isNull(masterData[i][14]));
    a[9]+=parseFloat(isNull(masterData[i][19]));

    if(masterData[i][19]!="1"){
      a[10]=false;
    }
    
    //a[10]+=parseFloat(isNull(masterData[i][19]));
  }
}
console.log(a);
return a;

}
//Grand totals 
function getTotalsForAll(){
  var a =[0,0,0,0,0,0,0,0,0,0];
  var isNull = function(b){
    if(b==''||b==' ' ||b==0){return 0;}
    else return b;
  };
for(var i=0; i&lt;masterData.length;i++){
    //a[0]+=parseFloat(isNull(masterData[i][6]));
    a[1]+=parseFloat(isNull(masterData[i][7]));
    a[2]+=parseFloat(isNull(masterData[i][8]));
    a[3]+=parseFloat(isNull(masterData[i][9]));
    a[4]+=parseFloat(isNull(masterData[i][10]));
    a[5]+=parseFloat(isNull(masterData[i][11]));
    a[6]+=parseFloat(isNull(masterData[i][12]));
    a[7]+=parseFloat(isNull(masterData[i][13]));
    a[8]+=parseFloat(isNull(masterData[i][14]));
   
}
 a[9]=parseFloat(threshold.TotalOnPage);
console.log(a);
return a;

}



var etnPageHelper={


    //startOf: identifying what filter is on
    filterSet: function(arg1,arg2) {
      if($(arg1).html()==='on'){$(arg2).css('font-weight', 'Bold').css('text-decoration', 'underline');}
    },
    
    //startOf: styling search field
      styleSearchField: function() {
         var searchFld=document.getElementById('searchDIV').getElementsByTagName('input');
         for(var j=0; j &lt; searchFld.length; j++) {
            if($(searchFld[j]).val()=='Search' || $(searchFld[j]).val()=='Clear Search'){$(searchFld[j]).addClass('btn btn-default');}
          if(searchFld[j].id.search('searchfield')&gt;=0){$(searchFld[j]).addClass('form-control').prop('placeholder', 'Search');}
        }     
      }
  };

var incSelList=document.getElementById('webeocIncident');
var loopAllInputs=document.getElementsByTagName('input');
var incVar;

//startOf: filter by incident process method
var filterByIncident={
 clearIncidentListSelection: function() {
   var incSearch=document.getElementById('incidentNameSearchSPAN').getElementsByTagName('input');
   for(var i=0; i &lt; incSearch.length; i++) {
     if(incSearch[i].value==='') {
       window.parent.window.parent.selectedIncident='';
     } else {
       $('#webeocIncident').val(window.parent.window.parent.selectedIncident);
     //  console.log(window.parent.window.parent.selectedIncident);
     }      
   }
 },
 searchFieldVariableSet: function() {
   for(var i=0; i &lt; loopAllInputs.length; i++) {
     if(loopAllInputs[i].id &amp;&amp; loopAllInputs[i].getAttribute('id').indexOf('searchfield')&gt; -1){incVar=loopAllInputs[i];}
   }
 },
 incidentListOptionsBuild: function() {
   <for-each select="/data/allincidentlist/incidents">
     incSelList.options[incSelList.options.length]=new Option('<value-of select="@name"/>','<value-of select="@name"/>',false,false);
   </for-each>
   incSelList.options.selectedIndex=0;
 },
 incidentListActionOnChange: function() {
   incSelList.options[incSelList.options.length]=new Option('','',false,false);
   incVar.value=incSelList.options[incSelList.options.selectedIndex].text;
   for(var i=0; i &lt; loopAllInputs.length; i++) {
     if(loopAllInputs[i].getAttribute('value')=='Search'){$(loopAllInputs[i]).click();}
   }
   window.parent.window.parent.selectedIncident=(incSelList.options[incSelList.options.selectedIndex]).text;
 }
};

$(document).ready(function(){
    populateMasterData();
    popluateTable();
    etnPageHelper.styleSearchField();
    //var countyFilter=document.getElementById('countyFilter').getElementsByTagName('select')[0];
    //$(countyFilter).addClass('form-control');
    filterByIncident.incidentListOptionsBuild();
    filterByIncident.searchFieldVariableSet();
    filterByIncident.clearIncidentListSelection();
    //filterByIncident.incidentListActionOnChange();
    
   /* var ddcFilter=document.getElementById('ddcFilter').getElementsByTagName('select')[0];
    $(ddcFilter).addClass('form-control');*/
    var a = document.getElementsByClassName('greenCell');
for(var i=0; i&lt;a.length;i++){a[i].parentElement.style.backgroundColor="#00ff55";}
   //totalGrandRowVar();
  });

  
</script>
</html>